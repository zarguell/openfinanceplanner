---
phase: 13-architecture-testing-foundation
plan: 04
type: execute
wave: 3
depends_on: [13-01, 13-02]
files_modified:
  - vite.config.ts
  - tsconfig.json
  - src/core/types/index.ts
  - src/core/utils/index.ts
  - src/components/index.ts
  - .gitignore
autonomous: true

must_haves:
  truths:
    - 'Path aliases @/core/*, @/components/*, @/* resolve in imports'
    - 'src/core/ directory structure exists for future business logic'
    - 'Clean Engine Pattern folder structure matches architecture'
  artifacts:
    - path: 'vite.config.ts'
      provides: 'Vite configuration with path aliases'
      contains: ['resolve.alias']
    - path: 'tsconfig.json'
      provides: 'TypeScript path aliases matching Vite config'
      contains: ['paths', '@/core/*']
    - path: 'src/core/types/index.ts'
      provides: 'Core types namespace for future domain models'
      exports: []
    - path: 'src/core/utils/index.ts'
      provides: 'Core utilities namespace for future pure functions'
      exports: []
  key_links:
    - from: 'vite.config.ts'
      to: 'tsconfig.json'
      via: 'matching path alias configurations'
      pattern: 'resolve.alias.*@/'
    - from: 'src/**/*.ts'
      to: 'tsconfig.json'
      via: 'path alias resolution'
      pattern: 'import.*@/'
---

<objective>
Configure path aliases and create Clean Engine Pattern folder structure for business logic separation.

Purpose: Establishes the project structure supporting Clean Engine Pattern (src/core/ for business logic separate from UI). Path aliases enable clean imports like `@/core/types` instead of relative paths. This structure prepares for Phase 14 business logic.

Output: Path aliases resolving in imports, src/core/ directory structure ready for Phase 14.
</objective>

<execution_context>
@/Users/zach/.claude/get-shit-done/workflows/execute-plan.md
@/Users/zach/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/ROADMAP.md
@.planning/phases/13-architecture-testing-foundation/13-RESEARCH.md
@.planning/phases/13-architecture-testing-foundation/13-01-SUMMARY.md
@.planning/phases/13-architecture-testing-foundation/13-02-SUMMARY.md

Research reference: Pattern 3 (Vite path aliases), Clean Engine Pattern (src/core/ for business logic).
</context>

<tasks>

<task type="auto">
  <name>Configure path aliases in Vite and TypeScript</name>
  <files>
    vite.config.ts
    tsconfig.json
  </files>
  <action>
    Edit vite.config.ts to add path aliases in resolve.alias:

    ```typescript
    import { defineConfig } from 'vite'
    import react from '@vitejs/plugin-react'

    export default defineConfig({
      plugins: [react()],
      resolve: {
        alias: {
          '@': '/src',
          '@/core': '/src/core',
          '@/components': '/src/components',
        },
      },
    })
    ```

    Edit tsconfig.json to add matching paths:

    ```json
    {
      "compilerOptions": {
        // ... existing options ...

        /* Path aliases */
        "baseUrl": ".",
        "paths": {
          "@/core/*": ["./src/core/*"],
          "@/components/*": ["./src/components/*"],
          "@/*": ["./src/*"]
        }
      }
    }
    ```

    CRITICAL: Both files must have matching path aliases or imports will fail at runtime.

    DO NOT proceed if either configuration is incomplete - misaligned aliases cause "Failed to resolve import" errors.

  </action>
  <verify>
    ```bash
    npm run build
    ```
    Build should succeed without "Failed to resolve import" errors.
  </verify>
  <done>
    Path aliases configured in both vite.config.ts and tsconfig.json with matching values.
  </done>
</task>

<task type="auto">
  <name>Create Clean Engine folder structure</name>
  <files>
    src/core/types/index.ts
    src/core/utils/index.ts
    src/components/index.ts
  </files>
  <action>
    Create the Clean Engine Pattern folder structure:

    ```bash
    mkdir -p src/core/types
    mkdir -p src/core/utils
    mkdir -p src/components
    ```

    Create index files to establish the namespaces:

    src/core/types/index.ts:
    ```typescript
    /**
     * Core type definitions for the Open Finance Planner.
     *
     * This directory contains domain model types (interfaces, types) used
     * throughout the application. Types defined here are imported by both
     * core business logic and UI components.
     *
     * Phase 14 will populate this with UserProfile, SimulationResult, etc.
     */

    // Export placeholder for Phase 14
    export type {}
    ```

    src/core/utils/index.ts:
    ```typescript
    /**
     * Core utility functions for the Open Finance Planner.
     *
     * This directory contains pure utility functions used across the app.
     * All functions here should be side-effect-free and testable without
     * React dependencies.
     *
     * Phase 14 will populate this with calculation utilities.
     */

    // Export placeholder for Phase 14
    export {}
    ```

    src/components/index.ts:
    ```typescript
    /**
     * React UI components for the Open Finance Planner.
     *
     * Phase 16 will populate this with Mantine-based components.
     */

    // Export placeholder for Phase 16
    export {}
    ```

    DO NOT add any business logic or types yet - that's Phase 14's work.

  </action>
  <verify>
    ```bash
    ls -la src/core/types/ src/core/utils/ src/components/
    ```
    All directories should exist with index.ts files.
  </verify>
  <done>
    src/core/types/, src/core/utils/, src/components/ directories exist with index.ts files containing documentation placeholders.
  </done>
</task>

<task type="auto">
  <name>Verify path aliases work with test import</name>
  <files>
    src/App.tsx
  </files>
  <action>
    Test that path aliases work by adding a temporary import to src/App.tsx:

    ```typescript
    // Test that path aliases work (remove after verification)
    import {} from '@/core/types'
    import {} from '@/core/utils'

    // ... rest of App.tsx
    ```

    Run build to verify imports resolve:

    ```bash
    npm run build
    ```

    If build succeeds, path aliases are working. Remove the test imports:

    ```typescript
    // Test imports removed - aliases verified working
    ```

    Run build again to confirm it still works after removing test imports.

    DO NOT commit test imports - they are only for verification.

  </action>
  <verify>
    ```bash
    npm run build
    ```
    Build completes with exit code 0, no import resolution errors.
  </verify>
  <done>
    Path aliases verified working - imports like `import {} from '@/core/types'` resolve at build time.
  </done>
</task>

</tasks>

<verification>
Overall Phase 13 Verification (after all plans complete):

1. Run `npm run build` - verify path aliases resolve without errors
2. Check vite.config.ts and tsconfig.json have matching path configurations
3. Verify src/core/ directory structure exists
   </verification>

<success_criteria>

1. Path aliases work: imports like `import {} from '@/core/types'` resolve
2. src/core/types/, src/core/utils/, src/components/ directories exist
3. vite.config.ts and tsconfig.json have matching path alias configurations
4. `npm run build` completes without import resolution errors
   </success_criteria>

<output>
After completion, create `.planning/phases/13-architecture-testing-foundation/13-04-SUMMARY.md` with:
- Path alias configuration confirmation
- Folder structure created
- Verification that aliases work
</output>
