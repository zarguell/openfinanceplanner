---
phase: 01-quality-tooling
type: execute
domain: tooling
---

<objective>
Establish modern development tooling for code quality and testing - add ESLint, Prettier, and Vitest to support maintainable evolution without breaking existing functionality.
</objective>

<execution_context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/config.json
</execution_context>

<context>
This is the first phase of a brownfield refactor project. The codebase currently has:
- No formal testing framework (custom test runner with manual assertions)
- No linting or formatting tooling (manual consistency)
- Monolithic files (tax.js: 2,296 lines, AppController.js: 1,347 lines)
- 1,018+ hardcoded magic numbers
- Inconsistent error handling

This phase establishes the foundation for maintainable development by introducing:
1. ESLint for code quality enforcement
2. Prettier for consistent formatting
3. Vitest for modern testing framework

These tools will support all subsequent refactoring work while maintaining backward compatibility with existing localStorage schema.
</context>

<tasks>

<task type="auto">
<name>Task 1: Install and configure ESLint</name>
<files>package.json, .eslintrc.js</files>
<action>Add ESLint dependency and configure code quality rules</action>
<verify>npm run lint succeeds without errors</verify>
<done>All dependency files updated, lint command available in package.json</done>
</task>

<task type="auto">
<name>Task 2: Install and configure Prettier</name>
<files>package.json, .prettierrc.json</files>
<action>Add Prettier dependency and configure consistent formatting rules</action>
<verify>npm run format successfully formats code</verify>
<done>Formatting configuration in place, code style consistency enforced</done>
</task>

<task type="auto">
<name>Task 3: Install and configure Vitest</name>
<files>package.json, vitest.config.js</files>
<action>Add Vitest testing framework and configure test environment</action>
<verify>npm test discovers and runs existing custom tests</verify>
<done>Modern testing framework in place, existing tests can run with Vitest runner</done>
</task>

</tasks>

<verification>
Phase 1 complete when:
- ESLint is installed and configured
- Prettier is installed and configured
- Vitest is installed and configured
- All tools work together (lint + format + test)
- npm scripts (lint, format, test) are available and functional
- Existing codebase runs without errors after tooling setup
</verification>

<success_criteria>
- package.json updated with dev dependencies (eslint, prettier, vitest)
- .eslintrc.js created with appropriate rules for vanilla JS ES6 modules
- .prettierrc.json created with project formatting preferences
- vitest.config.js created with configuration for ES6 modules without bundler
- All npm scripts (lint, format, test) added and working
- Phase marked as complete in ROADMAP.md and STATE.md
</success_criteria>

<output>
@.planning/phases/01-quality-tooling/01-01-SUMMARY.md
</output>
